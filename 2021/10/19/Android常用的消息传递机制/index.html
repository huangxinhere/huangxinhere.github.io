<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Androidå¸¸ç”¨çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶ | Hx's blog</title><meta name="author" content="(â—Ë‡âˆ€Ë‡â—),1159390360@qq.com"><meta name="copyright" content="(â—Ë‡âˆ€Ë‡â—)"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Androidå¸¸ç”¨çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶">
<meta property="og:type" content="article">
<meta property="og:title" content="Androidå¸¸ç”¨çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶">
<meta property="og:url" content="https://huangxinhere.github.io/2021/10/19/Android%E5%B8%B8%E7%94%A8%E7%9A%84%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92%E6%9C%BA%E5%88%B6/index.html">
<meta property="og:site_name" content="Hx&#39;s blog">
<meta property="og:description" content="Androidå¸¸ç”¨çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://huangxinhere.github.io/img/message_pic.jpg">
<meta property="article:published_time" content="2021-10-18T16:00:00.000Z">
<meta property="article:modified_time" content="2022-04-09T11:41:10.382Z">
<meta property="article:author" content="(â—Ë‡âˆ€Ë‡â—)">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://huangxinhere.github.io/img/message_pic.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Androidå¸¸ç”¨çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶",
  "url": "https://huangxinhere.github.io/2021/10/19/Android%E5%B8%B8%E7%94%A8%E7%9A%84%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92%E6%9C%BA%E5%88%B6/",
  "image": "https://huangxinhere.github.io/img/message_pic.jpg",
  "datePublished": "2021-10-18T16:00:00.000Z",
  "dateModified": "2022-04-09T11:41:10.382Z",
  "author": [
    {
      "@type": "Person",
      "name": "(â—Ë‡âˆ€Ë‡â—)",
      "url": "https://huangxinhere.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://huangxinhere.github.io/2021/10/19/Android%E5%B8%B8%E7%94%A8%E7%9A%84%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92%E6%9C%BA%E5%88%B6/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶å¤±è´¥',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: true,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Androidå¸¸ç”¨çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="Hx's blog" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/head_pic_3.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">51</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">9</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/message_pic.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Hx's blog</span></a><a class="nav-page-title" href="/"><span class="site-name">Androidå¸¸ç”¨çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  è¿”å›é¦–é¡µ</span></span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Androidå¸¸ç”¨çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2021-10-18T16:00:00.000Z" title="å‘è¡¨äº 2021-10-19 00:00:00">2021-10-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-04-09T11:41:10.382Z" title="æ›´æ–°äº 2022-04-09 19:41:10">2022-04-09</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Android/">Android</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">æµè§ˆé‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="Androidå¸¸ç”¨çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶"><a href="#Androidå¸¸ç”¨çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶" class="headerlink" title="Androidå¸¸ç”¨çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶"></a>Androidå¸¸ç”¨çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶</h1><h2 id="ä¸€ã€intentï¼šActivityä¹‹é—´çš„è·³è½¬å’Œæ•°æ®ä¼ è¾“"><a href="#ä¸€ã€intentï¼šActivityä¹‹é—´çš„è·³è½¬å’Œæ•°æ®ä¼ è¾“" class="headerlink" title="ä¸€ã€intentï¼šActivityä¹‹é—´çš„è·³è½¬å’Œæ•°æ®ä¼ è¾“"></a>ä¸€ã€intentï¼šActivityä¹‹é—´çš„è·³è½¬å’Œæ•°æ®ä¼ è¾“</h2><ul>
<li>å†…å®¹ï¼šæè¿°åº”ç”¨ä¸­ä¸€æ¬¡æ“ä½œçš„åŠ¨ä½œã€åŠ¨ä½œæ¶‰åŠæ•°æ®ã€é™„åŠ æ•°æ®ç­‰</li>
<li>å¯¹è±¡ ï¼šåº”ç”¨ç¨‹åºä¹‹é—´ &#x2F; åº”ç”¨ç¨‹åºå†…éƒ¨çš„Activityæˆ–Serviceä¹‹é—´çš„äº¤äº’</li>
<li>ç‰¹ç‚¹ï¼šåª’ä»‹ä¸­ä»‹ï¼Œå®ç°è°ƒç”¨è€…ä¸è¢«è°ƒç”¨è€…çš„è§£è€¦</li>
</ul>
<p>ğŸ˜â€”ç”¨æ³•â€”</p>
<ul>
<li>å¯åŠ¨Activityï¼š<strong>Context.startActivity()</strong> æˆ– <strong>Activity.startActivityForResult()</strong></li>
<li>å¯åŠ¨æœåŠ¡ï¼šContext.startService() </li>
<li>é€šè¿‡å¹¿æ’­æ–¹æ³•å‘ç»™broadcast receiversï¼šContext.sendBroadcast(), Context.sendOrderedBroadcast()â€¦</li>
</ul>
<p>ğŸ˜Šâ€”intentå±æ€§è®¾ç½®â€”</p>
<ol>
<li><p>Actionï¼ˆè¦æ‰§è¡Œçš„åŠ¨ä½œï¼‰ï¼š(SDKæ ‡å‡†åŠ¨ä½œ &#x2F; è‡ªå®šä¹‰åŠ¨ä½œ)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.æ˜¾ç¤º</span></span><br><span class="line">Uri uri = Uri.parse(<span class="string">&quot;http://google.com&quot;</span>); </span><br><span class="line">Intent it = <span class="keyword">new</span> Intent(Intent.ACTION_VIEW, uri); </span><br><span class="line">startActivity(it);</span><br><span class="line"><span class="comment">//2.æ‰“ç”µè¯</span></span><br><span class="line">Uri uri = Uri.parse(<span class="string">&quot;tel:0800000123&quot;</span>); </span><br><span class="line">Intent it = <span class="keyword">new</span> Intent(Intent.ACTION_DIAL, uri); </span><br><span class="line">startActivity(it); </span><br><span class="line"><span class="comment">//&lt;uses-permission id=&quot;android.permission.CALL_PHONE&quot; /&gt; è¦åŠ ä¸Š</span></span><br><span class="line"><span class="comment">//3.ä¼ é€Email</span></span><br><span class="line">Intent it=<span class="keyword">new</span> Intent(Intent.ACTION_SEND);<span class="comment">//åŠ¨ä½œå±æ€§   </span></span><br><span class="line">String[] tos=&#123;<span class="string">&quot;me@abc.com&quot;</span>&#125;;   </span><br><span class="line">String[] ccs=&#123;<span class="string">&quot;you@abc.com&quot;</span>&#125;;   </span><br><span class="line">it.putExtra(Intent.EXTRA_EMAIL, tos);    <span class="comment">//é™„åŠ å±æ€§</span></span><br><span class="line">it.putExtra(Intent.EXTRA_CC, ccs);   </span><br><span class="line">it.putExtra(Intent.EXTRA_TEXT, <span class="string">&quot;The email body text&quot;</span>);   </span><br><span class="line">it.putExtra(Intent.EXTRA_SUBJECT, <span class="string">&quot;The email subject text&quot;</span>);   </span><br><span class="line">it.setType(<span class="string">&quot;message/rfc822&quot;</span>);   		<span class="comment">//æ•°æ®ç±»å‹å±æ€§</span></span><br><span class="line">startActivity(Intent.createChooser(it, <span class="string">&quot;Choose Email Client&quot;</span>));</span><br><span class="line"><span class="comment">//4.æ’­æ”¾æ–°åª’ä½“</span></span><br><span class="line">Uri uri = Uri.parse(<span class="string">&quot;file:///sdcard/song.mp3&quot;</span>);	 <span class="comment">//url </span></span><br><span class="line">Intent it = <span class="keyword">new</span> Intent(Intent.ACTION_VIEW, uri); <span class="comment">//æ˜¾ç¤ºåŠ¨ä½œ</span></span><br><span class="line">it.setType(<span class="string">&quot;audio/mp3&quot;</span>); 					   <span class="comment">//æ•°æ®æ ¼å¼</span></span><br><span class="line">startActivity(it);</span><br></pre></td></tr></table></figure>
</li>
<li><p>Dataï¼ˆ<strong>æ‰§è¡ŒåŠ¨ä½œ</strong>è¦æ“ä½œçš„æ•°æ®ï¼‰ï¼š</p>
<p>Androidä¸­é‡‡ç”¨<u>æŒ‡å‘æ•°æ®çš„ä¸€ä¸ªURL</u>ã€‚å¦‚åœ¨è”ç³»äººåº”ç”¨ä¸­ï¼Œä¸€ä¸ªæŒ‡å‘æŸè”ç³»äººçš„URIå¯èƒ½ä¸ºï¼šcontent:&#x2F;&#x2F;contacts&#x2F;1</p>
</li>
<li><p>typeï¼ˆæ•°æ®ç±»å‹ï¼‰ï¼šæ˜¾å¼æŒ‡å®šIntentçš„æ•°æ®ç±»å‹ã€‚ä¸€èˆ¬Intentçš„æ•°æ®ç±»å‹èƒ½å¤Ÿæ ¹æ®æ•°æ®æœ¬èº«è¿›è¡Œåˆ¤å®šï¼Œè€Œé€šè¿‡è®¾ç½®è¿™ä¸ªå±æ€§ï¼Œå¯ä»¥å¼ºåˆ¶é‡‡ç”¨æ˜¾å¼æŒ‡å®šçš„ç±»å‹è€Œä¸å†è¿›è¡Œæ¨å¯¼</p>
</li>
<li><p>categoryï¼ˆè¢«æ‰§è¡ŒåŠ¨ä½œçš„é™„åŠ ä¿¡æ¯ï¼‰ï¼š</p>
</li>
<li><p>componentï¼ˆç»„ä»¶ï¼‰ï¼š</p>
<p>æŒ‡å®šIntentçš„çš„ç›®æ ‡ç»„ä»¶çš„ç±»åç§°ã€‚æœ‰æŒ‡å®šçš„è¯ï¼Œå°±ä¸ç”¨æ ¹æ®å±æ€§æ¥æŸ¥æ‰¾intentäº†ã€‚</p>
</li>
<li><p>extraï¼ˆé™„åŠ ä¿¡æ¯çš„é›†åˆï¼‰ï¼š</p>
</li>
</ol>
<p>ğŸ˜œâ€”åˆ†ç±»â€”</p>
<ul>
<li><p>æ˜¾å¼intentï¼šåœ¨æ„é€ å¯¹è±¡æ—¶å°±æŒ‡å®šæ¥æ”¶è€…</p>
</li>
<li><p>éšå¼intentï¼šæ„é€ intentå¯¹è±¡æ—¶ï¼Œä¸çŸ¥é“ä¹Ÿä¸å…³å¿ƒæ¥æ”¶è€…æ˜¯è°</p>
<ul>
<li><p>Androidè§£æâ€”â€”å°†intentæ˜ å°„ç»™æ¥æ”¶è€…</p>
</li>
<li><p>è§£ææœºåˆ¶ï¼šæŸ¥æ‰¾ å·²ç»æ³¨å†Œåœ¨AndroidManifest.xmlä¸­çš„ æ‰€æœ‰IntentFilterâ€”â€”æ ¹æ®å±æ€§æ¥åˆ¤æ–­â€”â€”æ‰¾åˆ°åŒ¹é…çš„intent</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;activity android:name=<span class="string">&quot;NotesList&quot;</span> android:label=<span class="string">&quot;@string/title_notes_list&quot;</span>&gt;</span><br><span class="line">    		<span class="comment">//1</span></span><br><span class="line">            &lt;intent-filter&gt;</span><br><span class="line">                &lt;action android:name=<span class="string">&quot;android.intent.action.MAIN&quot;</span> /&gt;</span><br><span class="line">                &lt;category android:name=<span class="string">&quot;android.intent.category.LAUNCHER&quot;</span> /&gt;</span><br><span class="line">            &lt;/intent-filter&gt;</span><br><span class="line">             <span class="comment">//2</span></span><br><span class="line">            &lt;intent-filter&gt;</span><br><span class="line">                &lt;action android:name=<span class="string">&quot;android.intent.action.VIEW&quot;</span> /&gt;</span><br><span class="line">                &lt;action android:name=<span class="string">&quot;android.intent.action.EDIT&quot;</span> /&gt;</span><br><span class="line">                &lt;action android:name=<span class="string">&quot;android.intent.action.PICK&quot;</span> /&gt;</span><br><span class="line">                &lt;category android:name=<span class="string">&quot;android.intent.category.DEFAULT&quot;</span> /&gt;</span><br><span class="line">                &lt;data android:mimeType=<span class="string">&quot;vnd.android.cursor.dir/vnd.google.note&quot;</span> /&gt;</span><br><span class="line">            &lt;/intent-filter&gt;</span><br><span class="line">             <span class="comment">//3</span></span><br><span class="line">            &lt;intent-filter&gt;</span><br><span class="line">                &lt;action android:name=<span class="string">&quot;android.intent.action.GET_CONTENT&quot;</span> /&gt;</span><br><span class="line">                &lt;category android:name=<span class="string">&quot;android.intent.category.DEFAULT&quot;</span> /&gt;</span><br><span class="line">                &lt;data android:mimeType=<span class="string">&quot;vnd.android.cursor.item/vnd.google.note&quot;</span> /&gt;</span><br><span class="line">            &lt;/intent-filter&gt;</span><br><span class="line">        &lt;/activity&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<p>ğŸ˜â€”Intentç”¨æ³•å®ä¾‹â€”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.æ— å‚æ•°çš„Activityè·³è½¬</span></span><br><span class="line">Intent intent = <span class="keyword">new</span> Intent(Activity.Main.<span class="keyword">this</span>, Activity2.class);</span><br><span class="line">startActivity(intent);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.å‘ä¸‹ä¸€ä¸ªActivityä¼ é€’æ•°æ®(Bundle -&gt; Intent.putExtras)</span></span><br><span class="line">Intent intent = <span class="keyword">new</span> Intent(Activity.Main.<span class="keyword">this</span>, Activity2.class);</span><br><span class="line">Bundle bundle = <span class="keyword">new</span> Bundle();</span><br><span class="line">bundle.putString(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;This is from MainActivity!&quot;</span>);</span><br><span class="line">intent.putExtras(bundle);</span><br><span class="line">startActivity(intent);		<span class="comment">//startActivityForResult(intent, REQUEST_CODE);</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//å¯¹æ•°æ®çš„è·å–</span></span><br><span class="line">Bundle bundle = getIntent().getExtras();</span><br><span class="line">String name = bundle.getString(<span class="string">&quot;name&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.å‘ä¸Šä¸€ä¸ªActivityè¿”å›ç»“æœ</span></span><br><span class="line">Intent intent = getIntent();</span><br><span class="line">Bundle bundle = <span class="keyword">new</span> Bundle();</span><br><span class="line">bundle.putString(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;This message is back!&quot;</span>);</span><br><span class="line">intent.putExtras(bundle);</span><br><span class="line">setResult(RESULT_OK, intent);<span class="comment">//é’ˆå¯¹ç¬¬äºŒç§å¯åŠ¨æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//4.å›è°ƒä¸Šä¸€ä¸ªActivityçš„ç»“æœå¤„ç†å‡½æ•°ï¼ˆonActivityResultï¼‰å¯¹ä¸åŒç»“æœçš„å¤„ç†</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onActivityResult</span><span class="params">(<span class="keyword">int</span> requestCode, <span class="keyword">int</span> resultCode, Intent data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onActivityResult(requestCode, resultCode, data);</span><br><span class="line">        <span class="keyword">if</span> (requestCode==REQUEST_CODE)&#123;</span><br><span class="line">            <span class="keyword">if</span>(resultCode==RESULT_CANCELED)</span><br><span class="line">                  setTitle(<span class="string">&quot;cancle&quot;</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (resultCode==RESULT_OK) &#123;</span><br><span class="line">                 String temp=<span class="keyword">null</span>;</span><br><span class="line">                 Bundle bundle=data.getExtras();</span><br><span class="line">                 <span class="keyword">if</span>(bundle!=<span class="keyword">null</span>)   temp=bundle.getString(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">                 setTitle(temp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="äºŒã€onSaveInstance-onRestoreInstanceState-ActivityçŠ¶æ€çš„ä¿å­˜å’Œæ¢å¤"><a href="#äºŒã€onSaveInstance-onRestoreInstanceState-ActivityçŠ¶æ€çš„ä¿å­˜å’Œæ¢å¤" class="headerlink" title="äºŒã€onSaveInstance onRestoreInstanceState: ActivityçŠ¶æ€çš„ä¿å­˜å’Œæ¢å¤"></a>äºŒã€onSaveInstance onRestoreInstanceState: ActivityçŠ¶æ€çš„ä¿å­˜å’Œæ¢å¤</h2><p><img src="https://i.loli.net/2021/10/23/dvJ6Y8mtXhOgqbQ.png" alt="1336983672_6102.png"></p>
<ul>
<li><p>Activityçš„é”€æ¯å’Œé‡å»º </p>
<ul>
<li><p>æ­£å¸¸æƒ…å†µï¼šbacké”®ï¼Œä¸è°ƒç”¨finishæ–¹æ³•ï¼›</p>
</li>
<li><p>ç‰¹æ®Šæƒ…å†µï¼šå½“Activityå¤„äºonStopçŠ¶æ€æ—¶ï¼Œå¦‚ï¼šé€€åˆ°åå°ï¼Œå¹¶ä¸”é•¿æ—¶é—´ä¸ç”¨æ—¶ï¼Œææœ‰å¯èƒ½ä¼šè¢«ç³»ç»Ÿå›æ”¶ï¼Œç”¨æ¥é‡Šæ”¾ä¸€äº›å†…å­˜ï¼›</p>
</li>
<li><p>æ—‹å±æƒ…å†µï¼šå¦‚æœActivityæ”¯æŒæ—‹å±ï¼Œæ¯æ¬¡æ—‹å±éƒ½ä¼šå¯¼è‡´activityçš„é”€æ¯ä¸é‡å»ºï¼›</p>
</li>
<li><p>å›è°ƒå‡½æ•°ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onSaveInstanceState</span><span class="params">(Bundle outState)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">super</span>.onSaveInstanceState(outState);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç”¨æˆ·ç¦»å¼€Activityâ€”â€”è°ƒç”¨æ­¤å‡½æ•°â€”â€”ä¼ é€’ä¸€ä¸ªBundle objectâ€”â€”å¦‚æœç³»ç»Ÿè¿‡ä¼šé‡å»ºè¿™ä¸ªactivityå®ä¾‹ï¼Œä¼šå°†è¿™ä¸ªBundle objectä¼ åˆ°onRestoreInstanceState() å’Œ onCreate() æ–¹æ³•ä¸­å»</p>
</blockquote>
</li>
</ul>
</li>
<li><p>æ¢å¤ActivityçŠ¶æ€</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        .....</span><br><span class="line">        .....</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœç¨‹åºå”¤é†’äº†</span></span><br><span class="line">        <span class="keyword">if</span> (savedInstanceState != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">/*æ‹¿åˆ°æ•°æ®åè¿›è¡Œæ“ä½œ*/</span></span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line"><span class="comment">//ä¸¾ä¾‹ï¼š</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SaveStateActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = <span class="string">&quot;SaveStateActivity&quot;</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">    	<span class="keyword">if</span> (savedInstanceState!=<span class="keyword">null</span>) &#123;</span><br><span class="line">    		Log.v(TAG, savedInstanceState.getString(<span class="string">&quot;data&quot;</span>));</span><br><span class="line">		&#125;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.main);</span><br><span class="line">        Log.v(TAG, <span class="string">&quot;onCreate&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onRestoreInstanceState</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">		Log.v(TAG, savedInstanceState.getString(<span class="string">&quot;data&quot;</span>));</span><br><span class="line">		<span class="keyword">super</span>.onRestoreInstanceState(savedInstanceState);</span><br><span class="line">		Log.v(TAG, <span class="string">&quot;onRestoreInstanceState&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onSaveInstanceState</span><span class="params">(Bundle outState)</span> </span>&#123;</span><br><span class="line">		outState.putString(<span class="string">&quot;data&quot;</span>, <span class="string">&quot;example&quot;</span>);</span><br><span class="line">		<span class="keyword">super</span>.onSaveInstanceState(outState);</span><br><span class="line">		Log.v(TAG, <span class="string">&quot;onSaveInstanceState&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onPause</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>.onPause();</span><br><span class="line">		Log.v(TAG, <span class="string">&quot;onPause&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onResume</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>.onResume();</span><br><span class="line">		Log.v(TAG, <span class="string">&quot;onResume&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">   	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onStart</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   		<span class="keyword">super</span>.onStart();</span><br><span class="line">   		Log.v(TAG, <span class="string">&quot;onStart&quot;</span>);</span><br><span class="line">   	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onRestart</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>.onRestart();</span><br><span class="line">		Log.v(TAG, <span class="string">&quot;onRestart&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿˜æœ‰idä¸ºeditText1çš„editText</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å›åˆ°ä¸»é¡µ</p>
<p><img src="https://i.loli.net/2021/10/21/DPCOFoBteLjEqHd.png" alt="image-20211021191045506.png"></p>
<p>å›åˆ°appï¼Œè°ƒç”¨äº†onRestartæ–¹æ³•ï¼Œå¹¶æ²¡æœ‰è°ƒç”¨ onRestoreInstanceStateæ–¹æ³•</p>
<p><img src="https://i.loli.net/2021/10/21/a8kvQtyMZF6lHUj.png" alt="image-20211021191255180.png"></p>
<p>backé”®ï¼Œè¡¨æ˜ç”¨æˆ·æ˜ç¡®é€€å‡ºï¼Œç›´æ¥é€€å‡ºæ²¡ä¿å­˜<img src="https://i.loli.net/2021/10/21/gzD7aWsvQK96R3t.png" alt="image-20211021191434961.png"></p>
<p>è¾“å…¥editTextï¼Œæ—‹è½¬å±å¹•ï¼Œä»å¯è§ï¼ŒçŠ¶æ€ä¿å­˜ï¼Œè¯´æ˜UIæ˜¯è‡ªåŠ¨ä¿å­˜å’Œæ¢å¤çš„ï¼ˆå‰ææ˜¯ç»™ç»„ä»¶idï¼‰</p>
</li>
</ul>
<p><img src="https://i.loli.net/2021/10/21/FfS2Eg84RZaYDBz.png" alt="image-20211021191734476.png"></p>
<h2 id="ä¸‰ã€callback-interface-æ¥å£å›è°ƒæœºåˆ¶"><a href="#ä¸‰ã€callback-interface-æ¥å£å›è°ƒæœºåˆ¶" class="headerlink" title="ä¸‰ã€callback interface æ¥å£å›è°ƒæœºåˆ¶"></a>ä¸‰ã€callback interface æ¥å£å›è°ƒæœºåˆ¶</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ¥å£</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Callbacks</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">method</span><span class="params">(String a)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è‡ªå·±å®ç°</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Myself</span> <span class="keyword">implements</span> <span class="title">Callbacks</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Others other = <span class="keyword">null</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">createOther</span><span class="params">()</span></span>&#123;</span><br><span class="line">        other = <span class="keyword">new</span> Others(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">(String a)</span></span>&#123;</span><br><span class="line">        System.out(<span class="string">&quot;hello&quot;</span>+a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åˆ«äººå°†å›è°ƒæ¥å£ä¼ å…¥,è°ƒç”¨æ–¹æ³•</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Others</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Callbacks callback = <span class="keyword">null</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Others</span><span class="params">(Callbacks callback)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.callback = callback;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">getA</span><span class="params">(Callbacks callback)</span></span>&#123;</span><br><span class="line">        callback.method(<span class="string">&quot;I am waawa&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æµ‹è¯•</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">callbackTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Others other = <span class="keyword">new</span> Others();</span><br><span class="line">    other.getA(Myself.<span class="keyword">this</span>);<span class="comment">//è½¬å‹ä¹‹ç±»ï¼Œå¾…ç ”ç©¶</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>callback.method()ã€‚åˆ©ç”¨æ¥å£å˜é‡ ç›¸å½“äºé€šçŸ¥ å®ç°å…·ä½“æ–¹æ³•çš„ç±» å®è¡Œæ“ä½œã€‚</li>
<li>ä¼˜ç‚¹ï¼šä»£ç é‡å°ï¼Œå¾ˆå®¹æ˜“ç†è§£ï¼Œå¤„ç†æ•ˆç‡é«˜</li>
<li>ç¼ºç‚¹ï¼šä¸åˆ©äºä¿®æ”¹å’Œæ‰©å±•ï¼Œæ¥å£ä¸€å˜æ›´ï¼Œå‘é€æ–¹å’Œæ¥æ”¶æ–¹éƒ½éœ€è¦ä¿®æ”¹å‚æ•°ã€‚å¹¶ä¸”å¿…é¡»æä¾›ä¸€ä¸ªè·å–æ¥å£çš„å…¥å£ã€‚</li>
</ul>
<h2 id="å››ã€broadcast-receiver"><a href="#å››ã€broadcast-receiver" class="headerlink" title="å››ã€broadcast receiver"></a>å››ã€broadcast receiver</h2><ul>
<li><p>å››å¤§ç»„ä»¶ä¹‹ä¸€ï¼ˆActivityï¼ŒServiceï¼ŒContentProviderï¼‰</p>
</li>
<li><p>BroadcastReceiverï¼šï¼ˆç³»ç»Ÿå†…éƒ¨ï¼‰æ¶ˆæ¯å‹ç»„ä»¶ï¼Œç”¨äºåœ¨ä¸åŒçš„ç»„ä»¶ä¹ƒè‡³ä¸åŒçš„åº”ç”¨ä¹‹é—´ä¼ é€’æ¶ˆæ¯ã€‚</p>
<p>â‘ å¹¿æ’­æ³¨å†Œï¼šé™æ€å’ŒåŠ¨æ€æ³¨å†Œã€‚</p>
<p>â€‹    é™æ€ğŸ‘‰åœ¨AndroidManifestä¸­æ³¨å†Œå¹¿æ’­â€”â€”å¹¿æ’­åº”ç”¨å®‰è£…æ—¶å°±è¢«è§£æâ€”â€”ä¸éœ€è¦åº”ç”¨å¯åŠ¨å°±å¯ä»¥æ”¶åˆ°å¹¿æ’­</p>
<p>â€‹    åŠ¨æ€ğŸ‘‰åº”ç”¨å¯åŠ¨æ‰èƒ½æ³¨å†Œå¹¶æ¥æ”¶å¹¿æ’­</p>
<p>â‘¡ç‰¹ç‚¹ï¼šå‘é€æ–¹å¹¶ä¸å…³å¿ƒæ¥æ”¶æ–¹æ˜¯å¦æ¥åˆ°æ•°æ®ï¼Œä¹Ÿä¸å…³å¿ƒæ¥æ”¶æ–¹æ˜¯å¦‚ä½•å¤„ç†æ•°æ®çš„ï¼Œé€šè¿‡è¿™æ ·çš„    å½¢å¼æ¥è¾¾åˆ°æ¥ã€æ”¶åŒæ–¹çš„å®Œå…¨è§£è€¦åˆ</p>
</li>
</ul>
<h3 id="å¹¿æ’­æ¥æ”¶è€…"><a href="#å¹¿æ’­æ¥æ”¶è€…" class="headerlink" title="å¹¿æ’­æ¥æ”¶è€…"></a>å¹¿æ’­æ¥æ”¶è€…</h3><ul>
<li>ä»£ç ï¼ŒonReceiveæ–¹æ³•</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyReceiver</span> <span class="keyword">extends</span> <span class="title">BroadcastReceiver</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReceive</span><span class="params">(Context context, Intent intent)</span></span>&#123;</span><br><span class="line">        Log.d(<span class="string">&quot;on receive action = &quot;</span> + intent.getAction());</span><br><span class="line">        String action = intent.getAction();</span><br><span class="line">        <span class="comment">//æ‹¿åˆ°intentè¯¥å¹²å˜›å¹²å˜›</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å¹¿æ’­æ³¨å†Œè€…"><a href="#å¹¿æ’­æ³¨å†Œè€…" class="headerlink" title="å¹¿æ’­æ³¨å†Œè€…"></a>å¹¿æ’­æ³¨å†Œè€…</h3><ul>
<li><p>é™æ€æ³¨å†Œ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;receiver android:name = <span class="string">&quot;.Myreceiver&quot;</span>&gt;</span><br><span class="line">    &lt;intent-filter&gt;</span><br><span class="line">    	&lt;action android:name = <span class="string">&quot;com.ryg.receiver.LAUNCH&quot;</span>/&gt;</span><br><span class="line">    &lt;/intent-filter&gt;</span><br><span class="line"> &lt;/receiver&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åŠ¨æ€æ³¨å†Œ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//IntentFilterå°±æ˜¯æè¿‡çš„ éšå¼åœ°å¯åŠ¨ç³»ç»Ÿç»„ä»¶çš„æ—¶å€™ï¼Œå°±ä¼šæ ¹æ®IntentFilteræ¥ç­›é€‰å‡ºåˆé€‚çš„è¿›è¡Œå¯åŠ¨</span></span><br><span class="line">IntentFilter filter = <span class="keyword">new</span> IntentFilter();</span><br><span class="line">filter.addAction(<span class="string">&quot;com.ryg.receiver.LAUNCH&quot;</span>);</span><br><span class="line">registerReceiver(<span class="keyword">new</span> MyReceiver(), filter);</span><br></pre></td></tr></table></figure>
</li>
<li><p>å‰ä¸¤æ­¥å®Œæˆä¹‹åï¼Œé€šè¿‡sendæ–¹æ³•æ¥å‘é€å¹¿æ’­</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Intent intent = <span class="keyword">new</span> Intent();</span><br><span class="line">intent.setAction(<span class="string">&quot;com.ryg.receiver.LAUNCH&quot;</span>);</span><br><span class="line">sendBroadcast(intent);</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="ğŸ±â€ğŸä¸¾ä¾‹"><a href="#ğŸ±â€ğŸä¸¾ä¾‹" class="headerlink" title="ğŸ±â€ğŸä¸¾ä¾‹"></a>ğŸ±â€ğŸä¸¾ä¾‹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*æ¥æ”¶æ–¹*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReceiverActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> TestReceiver receiver;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        <span class="comment">//æ³¨å†Œã€‚IntentFilterå¯¹è±¡è´Ÿè´£è¿‡æ»¤æ‰ç»„ä»¶æ— æ³•å“åº”å’Œå¤„ç†çš„Intentï¼Œåªå°†è‡ªå·±å…³å¿ƒçš„Intentæ¥æ”¶è¿›æ¥è¿›è¡Œå¤„ç†</span></span><br><span class="line">        receiver = <span class="keyword">new</span> TestReceiver();</span><br><span class="line">        IntentFilter filter = <span class="keyword">new</span> IntentFilter(<span class="comment">/*è¿™é‡Œå¡«ä½ è‡ªå®šä¹‰çš„è¿™ä¸ªå¹¿æ’­è¿‡æ»¤çš„åå­—NAME*/</span>);</span><br><span class="line">        registerReceiver(receiver, filter);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onDestroy();</span><br><span class="line">        <span class="comment">//ä¸ºé˜²æ­¢å†…å­˜æ³„æ¼ï¼Œéœ€è¦åŠæ—¶æ³¨é”€æ¥æ”¶å™¨</span></span><br><span class="line">        unregisterReceiver(receiver);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestReceiver</span> <span class="keyword">extends</span> <span class="title">BroadcastReceiver</span> </span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReceive</span><span class="params">(Context context, Intent intent)</span> </span>&#123;</span><br><span class="line">            String type = intent.getStringExtra(<span class="comment">/*è¿™é‡Œå¡«ä½ è‡ªå®šä¹‰çš„å‘é€æ¶ˆæ¯çš„ç±»å‹TYPE*/</span>);</span><br><span class="line">            <span class="keyword">switch</span>(type)&#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;TYPE1&quot;</span>:</span><br><span class="line">                    <span class="keyword">int</span> i = intent.getIntExtra(<span class="string">&quot;testInteger&quot;</span>, <span class="number">0</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;TYPE2&quot;</span>:</span><br><span class="line">                    String s = intent.getStringExtra(<span class="string">&quot;testString&quot;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*å‘é€æ–¹*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SendService</span> <span class="keyword">extends</span> <span class="title">Service</span></span>&#123;<span class="comment">//??</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSth1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Intent intent = <span class="keyword">new</span> Intent(<span class="comment">/*è¿™é‡Œå¡«åˆšæ‰ä½ å†™çš„é‚£ä¸ªNAME*/</span>);</span><br><span class="line">        intent.putExtra(<span class="comment">/*è¿™é‡Œå¡«åˆšæ‰ä½ å†™çš„é‚£ä¸ªæ¶ˆæ¯ç±»å‹TYPE*/</span>,<span class="string">&quot;TYPE1&quot;</span>);</span><br><span class="line">        intent.putExtra(<span class="string">&quot;testInteger&quot;</span>, <span class="number">1</span>);</span><br><span class="line">        sendBroadcast(intent);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSth2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Intent intent = <span class="keyword">new</span> Intent(<span class="comment">/*è¿™é‡Œå¡«åˆšæ‰ä½ å†™çš„é‚£ä¸ªNAME*/</span>);</span><br><span class="line">        intent.putExtra(<span class="comment">/*è¿™é‡Œå¡«åˆšæ‰ä½ å†™çš„é‚£ä¸ªæ¶ˆæ¯ç±»å‹TYPE*/</span>,<span class="string">&quot;TYPE2&quot;</span>);</span><br><span class="line">        intent.putExtra(<span class="string">&quot;testString&quot;</span>, <span class="string">&quot;Hello world!&quot;</span>);</span><br><span class="line">        sendBroadcast(intent);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>ä¼˜ç‚¹ï¼šå‘é€æ–¹å’Œæ¥æ”¶æ–¹å®ç°äº†å®Œå…¨è§£è€¦ï¼Œå‘é€æ–¹å°†æ¶ˆæ¯å‘é€å‡ºå»åï¼Œè¿™æ¡æ¶ˆæ¯å°±ä¸ä»–æ— å…³äº†ï¼Œæ”¶æ²¡æ”¶åˆ°ä¹Ÿä¸ç®¡ã€‚ </li>
<li>ç¼ºç‚¹ï¼šå¹¿æ’­çš„æ¥æ”¶å’Œå‘é€å¾—ä¾èµ–contextçš„ç¯å¢ƒã€‚æ¯æ¬¡è°ƒç”¨éƒ½éœ€è¦å†™ç¹ççš„intentå’ŒputExtraã€‚æ•°æ®ä¼ é€’æ–¹å¼ç±»æ¯”handlerï¼Œåœ¨æ¥æ”¶æ—¶å­˜åœ¨ç±»å‹è½¬æ¢å¼‚å¸¸çš„é£é™©ã€‚</li>
</ul>
<h2 id="äº”ã€observer-subjectï¼ˆè§‚å¯Ÿè€…æ¨¡å¼ï¼‰"><a href="#äº”ã€observer-subjectï¼ˆè§‚å¯Ÿè€…æ¨¡å¼ï¼‰" class="headerlink" title="äº”ã€observer-subjectï¼ˆè§‚å¯Ÿè€…æ¨¡å¼ï¼‰"></a>äº”ã€observer-subjectï¼ˆè§‚å¯Ÿè€…æ¨¡å¼ï¼‰</h2><ul>
<li><p>è§‚å¯Ÿè€…æ¥å£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Observer</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">newMsg</span><span class="params">(String msg)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸»é¢˜æ¥å£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Subject</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addObserver</span><span class="params">(Observer observer)</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">removeObserver</span><span class="params">(Observer observer)</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">notify</span><span class="params">(String msg)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®šä¹‰ä¸€ä¸ª<strong>è§‚å¯Ÿè€…ç®¡ç†ç±»</strong>å®ç°ä¸»é¢˜æ¥å£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObserverManager</span> <span class="keyword">implements</span> <span class="title">Subject</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ObserverManager instance = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Observer&gt; Observers = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">ObserverManager</span><span class="params">()</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ObserverManager <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> == instance) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (ObserverManager.class) &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">null</span> == instance) &#123;</span><br><span class="line">                    instance = <span class="keyword">new</span> ObserverManager();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addObserver</span><span class="params">(Observer observer)</span></span>&#123;</span><br><span class="line">        Observers.add(observer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeObserver</span><span class="params">(Observer observer)</span></span>&#123;</span><br><span class="line">        Observers.remove(observer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">notify</span><span class="params">(String msg)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(Observer observer: Observers)&#123;</span><br><span class="line">            observer.newMsg(msg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è§‚å¯Ÿè€…å³æ¥æ”¶æ–¹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObserverActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> <span class="keyword">implements</span> <span class="title">Observer</span></span>&#123;</span><br><span class="line">    <span class="comment">//è·å–manager</span></span><br><span class="line">    <span class="keyword">private</span> ObserverManager manager = ObserverManager.getInstance();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        <span class="comment">//è¢«çº³å…¥è§‚å¯Ÿè€…é˜Ÿåˆ—</span></span><br><span class="line">        manager.addObserver(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onDestroy();</span><br><span class="line">        <span class="comment">//éå¸¸é‡è¦ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</span></span><br><span class="line">        manager.removeObserver(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è·å–æ¶ˆæ¯</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">newMsg</span><span class="params">(String msg)</span></span>&#123;</span><br><span class="line">        Log.e(<span class="string">&quot;Get a new msg&quot;</span>, msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸»é¢˜å³å‘é€æ–¹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Sender</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> ObserverManager manager = ObserverManager.getInstance();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sendNewMsg</span><span class="params">()</span></span>&#123;</span><br><span class="line">        manager.notify(<span class="string">&quot;This is a new msg from sender.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>managerå¯¹è§‚å¯Ÿè€…å’Œå‘é€è€…éƒ½è¿›è¡Œäº†å¹²é¢„ï¼›å¯ä»¥éšæ—¶å¢åˆ è§‚å¯Ÿè€…ï¼›</p>
</li>
<li><p>ä¼˜ç‚¹ï¼šåŒå¹¿æ’­ï¼Œé«˜åº¦è§£è€¦ã€‚æ¥å£è‡ªå®šä¹‰ï¼Œæ‰©å±•æ€§å¼ºã€‚<br>ç¼ºç‚¹ï¼šä¸€å¯¹ä¸€æ—¶æˆ–è€…æ¥æ”¶æ–¹æ•°é‡å°‘æ—¶ï¼Œâ€œæ€é¸¡ç„‰ç”¨ç‰›åˆ€â€ã€‚æ¥å£ä¿®æ”¹æ—¶éœ€è¦åˆ°å¤„æ”¹åŠ¨ï¼ŒåŒcallbackã€‚</p>
</li>
</ul>
<p>å‚è€ƒåšå®¢ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/feisky/archive/2010/01/16/1649081.html">Android Activityå’ŒIntentæœºåˆ¶å­¦ä¹ ç¬”è®° - feisky - åšå®¢å›­ (cnblogs.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/android/android-intents-filters.html">Android æ„å›¾(Intent)å’Œè¿‡æ»¤å™¨(Filter) | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://my.oschina.net/u/1389206/blog/1798642">Androidå››ç§å¸¸ç”¨çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶&#x2F;æ¨¡å¼çš„æ¯”è¾ƒ - å½“ç©ºçš“æœˆçš„ä¸ªäººç©ºé—´ - OSCHINA - ä¸­æ–‡å¼€æºæŠ€æœ¯äº¤æµç¤¾åŒº</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/whoislcj/p/5590615.html">Androidæ¶ˆæ¯ä¼ é€’ä¹‹Handleræ¶ˆæ¯æœºåˆ¶ - æ€»æå†™ä»£ç  - åšå®¢å›­ (cnblogs.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/lixiang0522/article/details/7565401">(22æ¡æ¶ˆæ¯) Androidä¸­ActivityçŠ¶æ€çš„ä¿å­˜å’Œæ¢å¤ï¼šonSaveInstanceStateå’ŒonRestoreInstanceStateæ–¹æ³•_å°ä½•æ‰éœ²å°–å°–è§’-CSDNåšå®¢</a></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="https://huangxinhere.github.io">(â—Ë‡âˆ€Ë‡â—)</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://huangxinhere.github.io/2021/10/19/Android%E5%B8%B8%E7%94%A8%E7%9A%84%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92%E6%9C%BA%E5%88%B6/">https://huangxinhere.github.io/2021/10/19/Android%E5%B8%B8%E7%94%A8%E7%9A%84%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92%E6%9C%BA%E5%88%B6/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº <a href="https://huangxinhere.github.io" target="_blank">Hx's blog</a>ï¼</span></div></div><div class="tag_share"><div class="post-share"><div class="social-share" data-image="/img/message_pic.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2021/10/19/%E5%9B%9B%E5%A4%A7%E7%BB%84%E4%BB%B6/" title="Android å››å¤§ç»„ä»¶"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">ä¸Šä¸€ç¯‡</div><div class="info-item-2">Android å››å¤§ç»„ä»¶</div></div><div class="info-2"><div class="info-item-1">å››å¤§ç»„ä»¶çš„è¿è¡ŒçŠ¶æ€ Activityï¼šï¼ˆå‰å° ï¼‰å±•ç¤ºå‹ç»„ä»¶ï¼Œå‘ç”¨æˆ·å±•ç¤ºä¸€ä¸ªç•Œé¢å¹¶ä¸”å¯ä»¥æ¥æ”¶ç”¨æˆ·çš„è¾“å…¥ä¿¡æ¯è¿›è¡Œäº¤äº’ã€‚ â‘ é¢å‘ç”¨æˆ·ï¼› â‘¡å¯åŠ¨ğŸ‘ˆæ˜¾å¼éšå¼intentï¼› â‘¢finishç»“æŸ  Serviceï¼šï¼ˆåå°æ‰§è¡Œï¼‰è®¡ç®—å‹ç»„ä»¶ï¼Œåœ¨åå°æ‰§è¡Œä¸€ç³»åˆ—ä»»åŠ¡ã€‚ â‘ å¯åŠ¨çŠ¶æ€ğŸ‘‰å†…éƒ¨åšåå°è®¡ç®—ï¼› â‘¡ç»‘å®šçŠ¶æ€ğŸ‘‰åå°è®¡ç®—ï¼‹å’Œå¤–ç•Œé€šä¿¡ï¼› â‘¢åœæ­¢ï¼šstopServiceå’ŒunBindServiceä¸¤ä¸ªæ–¹æ³•  BroadcastReceiverï¼šï¼ˆç³»ç»Ÿå†…éƒ¨ï¼‰æ¶ˆæ¯å‹ç»„ä»¶ï¼Œç”¨äºåœ¨ä¸åŒçš„ç»„ä»¶ä¹ƒè‡³ä¸åŒçš„åº”ç”¨ä¹‹é—´ä¼ é€’æ¶ˆæ¯ã€‚ â‘ å¹¿æ’­æ³¨å†Œï¼šé™æ€å’ŒåŠ¨æ€æ³¨å†Œã€‚ â€‹    é™æ€ğŸ‘‰åœ¨AndroidManifestä¸­æ³¨å†Œå¹¿æ’­â€”â€”å¹¿æ’­åº”ç”¨å®‰è£…æ—¶å°±è¢«è§£æâ€”â€”ä¸éœ€è¦åº”ç”¨å¯åŠ¨å°±å¯ä»¥æ”¶åˆ°å¹¿æ’­ â€‹    åŠ¨æ€ğŸ‘‰åº”ç”¨å¯åŠ¨æ‰èƒ½æ³¨å†Œå¹¶æ¥æ”¶å¹¿æ’­ â‘¡ç‰¹ç‚¹ï¼šå‘é€æ–¹å¹¶ä¸å…³å¿ƒæ¥æ”¶æ–¹æ˜¯å¦æ¥åˆ°æ•°æ®ï¼Œä¹Ÿä¸å…³å¿ƒæ¥æ”¶æ–¹æ˜¯å¦‚ä½•å¤„ç†æ•°æ®çš„ï¼Œé€šè¿‡è¿™æ ·çš„    å½¢å¼æ¥è¾¾åˆ°æ¥ã€æ”¶åŒæ–¹çš„å®Œå…¨è§£è€¦åˆ  ContentProviderï¼šæ•°æ®å…±äº«å‹ç»„ä»¶ï¼Œç”¨äºå‘å…¶ä»–ç»„ä»¶ä¹ƒè‡³å…¶å®ƒåº”ç”¨å…±äº«æ•°æ®ã€‚ â‘ å†…éƒ¨ç»´æŒç€ä¸€ä»½æ•°æ®é›†åˆã€‚å¢åˆ æŸ¥æ”¹   BroadcastReceiverçš„å·¥ä½œè¿‡ç¨‹ï¼ˆæ³¨...</div></div></div></a><a class="pagination-related" href="/2021/10/10/deeply_touched_again/" title="Liu Cixin"><img class="cover" src="/img/liu_pic.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">ä¸‹ä¸€ç¯‡</div><div class="info-item-2">Liu Cixin</div></div><div class="info-2"><div class="info-item-1">Part one: the speechLadies and Gentleman, å¥³å£«ä»¬ï¼Œå…ˆç”Ÿä»¬ï¼š Good evening! æ™šä¸Šå¥½ï¼ Itâ€™s my great honor to receive the Clarke Award for Imagination in Service to Society. Thank you. å¾ˆè£å¹¸è·å¾—å…‹æ‹‰å…‹æƒ³è±¡åŠ›æœåŠ¡ç¤¾ä¼šå¥–ã€‚ This award is a reward for imagination. Imagination is a capability that should have exclusive belonged to God but we, as human beings, luckily have this too. It is far beyond our imagination to grasp the meaning of the existence of imagination. A historian used to say that the main reason why human beings hav...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/head_pic_3.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">(â—Ë‡âˆ€Ë‡â—)</div><div class="author-info-description">è¯¥åšå®¢æš‚æ—¶åœæ­¢ç»´æŠ¤ï¼Œæ–°åšå®¢ä¼ é€é—¨ï¼šhttps://juejin.cn/user/3598037753539256</div><div class="site-data"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">51</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">9</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Android%E5%B8%B8%E7%94%A8%E7%9A%84%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92%E6%9C%BA%E5%88%B6"><span class="toc-number">1.</span> <span class="toc-text">Androidå¸¸ç”¨çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81intent%EF%BC%9AActivity%E4%B9%8B%E9%97%B4%E7%9A%84%E8%B7%B3%E8%BD%AC%E5%92%8C%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93"><span class="toc-number">1.1.</span> <span class="toc-text">ä¸€ã€intentï¼šActivityä¹‹é—´çš„è·³è½¬å’Œæ•°æ®ä¼ è¾“</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81onSaveInstance-onRestoreInstanceState-Activity%E7%8A%B6%E6%80%81%E7%9A%84%E4%BF%9D%E5%AD%98%E5%92%8C%E6%81%A2%E5%A4%8D"><span class="toc-number">1.2.</span> <span class="toc-text">äºŒã€onSaveInstance onRestoreInstanceState: ActivityçŠ¶æ€çš„ä¿å­˜å’Œæ¢å¤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81callback-interface-%E6%8E%A5%E5%8F%A3%E5%9B%9E%E8%B0%83%E6%9C%BA%E5%88%B6"><span class="toc-number">1.3.</span> <span class="toc-text">ä¸‰ã€callback interface æ¥å£å›è°ƒæœºåˆ¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81broadcast-receiver"><span class="toc-number">1.4.</span> <span class="toc-text">å››ã€broadcast receiver</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%BF%E6%92%AD%E6%8E%A5%E6%94%B6%E8%80%85"><span class="toc-number">1.4.1.</span> <span class="toc-text">å¹¿æ’­æ¥æ”¶è€…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%BF%E6%92%AD%E6%B3%A8%E5%86%8C%E8%80%85"><span class="toc-number">1.4.2.</span> <span class="toc-text">å¹¿æ’­æ³¨å†Œè€…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%90%B1%E2%80%8D%F0%9F%8F%8D%E4%B8%BE%E4%BE%8B"><span class="toc-number">1.4.3.</span> <span class="toc-text">ğŸ±â€ğŸä¸¾ä¾‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81observer-subject%EF%BC%88%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%EF%BC%89"><span class="toc-number">1.5.</span> <span class="toc-text">äº”ã€observer-subjectï¼ˆè§‚å¯Ÿè€…æ¨¡å¼ï¼‰</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/08/22/UE%E5%A4%9A%E4%BA%BA%E5%B0%84%E5%87%BBC++%EF%BC%881%EF%BC%89%E4%BA%92%E8%81%94%E7%BD%91%E8%81%94%E6%9C%BA%E8%AE%BE%E7%BD%AE/" title="UEä¸OnlineSubsystemSteamï¼ˆOSS Steamï¼‰"><img src="https://cdn.jsdelivr.net/gh/huangxinhere/hexo_img/img/20250822000958_1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="UEä¸OnlineSubsystemSteamï¼ˆOSS Steamï¼‰"/></a><div class="content"><a class="title" href="/2025/08/22/UE%E5%A4%9A%E4%BA%BA%E5%B0%84%E5%87%BBC++%EF%BC%881%EF%BC%89%E4%BA%92%E8%81%94%E7%BD%91%E8%81%94%E6%9C%BA%E8%AE%BE%E7%BD%AE/" title="UEä¸OnlineSubsystemSteamï¼ˆOSS Steamï¼‰">UEä¸OnlineSubsystemSteamï¼ˆOSS Steamï¼‰</a><time datetime="2025-08-21T16:00:00.000Z" title="å‘è¡¨äº 2025-08-22 00:00:00">2025-08-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/13/2024313-Unity-UI%EF%BC%882%EF%BC%89/" title="Unity-UIï¼ˆ2ï¼‰"><img src="/img/unity.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Unity-UIï¼ˆ2ï¼‰"/></a><div class="content"><a class="title" href="/2024/03/13/2024313-Unity-UI%EF%BC%882%EF%BC%89/" title="Unity-UIï¼ˆ2ï¼‰">Unity-UIï¼ˆ2ï¼‰</a><time datetime="2024-03-12T16:00:00.000Z" title="å‘è¡¨äº 2024-03-13 00:00:00">2024-03-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/14/%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86-Unity-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" title="Unity-æ€§èƒ½ä¼˜åŒ–"><img src="/img/unity.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Unity-æ€§èƒ½ä¼˜åŒ–"/></a><div class="content"><a class="title" href="/2023/09/14/%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86-Unity-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" title="Unity-æ€§èƒ½ä¼˜åŒ–">Unity-æ€§èƒ½ä¼˜åŒ–</a><time datetime="2023-09-13T16:00:00.000Z" title="å‘è¡¨äº 2023-09-14 00:00:00">2023-09-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/13/%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86-Unity-%E5%9B%BE%E5%BD%A2/" title="Unity-å›¾å½¢"><img src="/img/unity.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Unity-å›¾å½¢"/></a><div class="content"><a class="title" href="/2023/09/13/%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86-Unity-%E5%9B%BE%E5%BD%A2/" title="Unity-å›¾å½¢">Unity-å›¾å½¢</a><time datetime="2023-09-12T16:00:00.000Z" title="å‘è¡¨äº 2023-09-13 00:00:00">2023-09-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/10/%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86-Unity-%E7%83%AD%E6%9B%B4%E6%96%B0/" title="Unity-çƒ­æ›´æ–°"><img src="/2023/09/10/%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86-Unity-%E7%83%AD%E6%9B%B4%E6%96%B0/message_pic.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Unity-çƒ­æ›´æ–°"/></a><div class="content"><a class="title" href="/2023/09/10/%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86-Unity-%E7%83%AD%E6%9B%B4%E6%96%B0/" title="Unity-çƒ­æ›´æ–°">Unity-çƒ­æ›´æ–°</a><time datetime="2023-09-09T16:00:00.000Z" title="å‘è¡¨äº 2023-09-10 00:00:00">2023-09-10</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/message_pic.jpg);"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;2025 By (â—Ë‡âˆ€Ë‡â—)</span><span class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.4.0-b3</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æ—¥é—´å’Œå¤œé—´æ¨¡å¼åˆ‡æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>